<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GuinnessGirlz Interactive Map</title>
  <!-- Leaflet CSS -->
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha512-oQZGFWm7XgUTe0nYMk+QJ7gVbiEzhoVFAGL7t2ZCMB+8DtzKtkz9CSIyGps/+O59HwgpwZoKzzrEnJ/goLynw=="
        crossorigin=""/>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #FFF1B2;
    }
    #map {
      width: 100%;
      height: 100vh;
    }
    .leaflet-popup-content-wrapper {
      background-color: #FFF1B2;
      border-radius: 8px;
      color: #333;
      font-size: 14px;
      line-height: 1.4;
    }
    .leaflet-popup-tip {
      background-color: #FFF1B2;
    }
    .popup-title {
      color: #FF4FB6;
      font-weight: bold;
      margin-bottom: 4px;
    }
    .popup-rating {
      font-weight: bold;
      margin-top: 4px;
    }
    .popup-link a {
      color: #FF4FB6;
      text-decoration: none;
      font-weight: bold;
    }
    .popup-link a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
          integrity="sha512-y0f9qJR3Zx2QVJQYXdznvRRYoG4+gsSPHJUI9y4dGEYoHFU5oiKSSOf0EOuh0IBgzpGLaNN95pJ8sLwhkDg1Hw=="
          crossorigin=""></script>
  <!-- Data for locations -->
  <script src="data.js"></script>
  <script>
    // Initialize the map centered over western Europe to capture UK, Ireland and France
    const map = L.map('map').setView([52.0, -2.0], 6);

    // Use OpenStreetMap tiles
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Define a simple DivIcon using brand colours
    const ggIcon = L.divIcon({
      className: '',
      html: '<div style="background-color:#FF4FB6;border:3px solid #FFF1B2;border-radius:50%;width:20px;height:20px;"></div>',
      iconSize: [20, 20],
      iconAnchor: [10, 20],
      popupAnchor: [0, -20]
    });

    // Add markers with popups
    locations.forEach((loc) => {
      const popupHtml = `
        <div class="popup-title">${loc.name}</div>
        <div>${loc.city}, ${loc.country}</div>
        <div class="popup-rating">‚≠ê ${loc.rating} / 5</div>
        <div class="popup-link"><a href="${loc.link}" target="_blank" rel="noopener">View Instagram Post</a></div>
      `;
      L.marker([loc.lat, loc.lon], { icon: ggIcon })
        .addTo(map)
        .bindPopup(popupHtml);
    });
  </script>
</body>
</html>
